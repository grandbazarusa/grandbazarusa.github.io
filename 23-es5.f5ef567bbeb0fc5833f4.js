function _classCallCheck(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function _createClass(c,t,e){return t&&_defineProperties(c.prototype,t),e&&_defineProperties(c,e),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{AWRA:function(c,t,e){"use strict";e.r(t),e.d(t,"SubscriptionPageModule",(function(){return x}));var n=e("ofXK"),a=e("3Pt+"),i=e("tyNb"),r=e("TEn/"),s=e("pwB6"),o=e("wd/R"),u=e("fXoL"),d=e("tk/3"),p=e("0IaG"),g=e("Wp6s"),b=e("bTqV"),h=e("sYmb");function l(c,t){1&c&&(u.hc(0,"div"),u.hc(1,"h1"),u.Xc(2),u.uc(3,"translate"),u.gc(),u.gc()),2&c&&(u.Ob(2),u.Zc(" ",u.vc(3,1,"Your subscription Ended Please Renew"),"..."))}function m(c,t){if(1&c){var e=u.ic();u.hc(0,"div",17),u.hc(1,"div",18),u.hc(2,"mat-card",19),u.hc(3,"div",20),u.Xc(4),u.uc(5,"translate"),u.gc(),u.hc(6,"mat-card-content"),u.hc(7,"h4",21),u.Xc(8),u.uc(9,"translate"),u.gc(),u.hc(10,"p"),u.Xc(11),u.uc(12,"translate"),u.gc(),u.hc(13,"h4",21),u.Xc(14),u.gc(),u.gc(),u.hc(15,"mat-card-footer"),u.hc(16,"div",13),u.hc(17,"button",22),u.pc("click",(function(){return u.Nc(e),u.tc().renew(6)})),u.Xc(18),u.uc(19,"translate"),u.gc(),u.gc(),u.gc(),u.gc(),u.hc(20,"mat-card",23),u.hc(21,"div",24),u.Xc(22),u.uc(23,"translate"),u.gc(),u.hc(24,"mat-card-content"),u.hc(25,"h4",21),u.Xc(26),u.uc(27,"translate"),u.gc(),u.hc(28,"p"),u.Xc(29),u.uc(30,"translate"),u.gc(),u.hc(31,"h4",21),u.Xc(32),u.gc(),u.gc(),u.hc(33,"mat-card-footer"),u.hc(34,"div",13),u.hc(35,"button",25),u.pc("click",(function(){return u.Nc(e),u.tc().renew(12)})),u.Xc(36),u.uc(37,"translate"),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc()}if(2&c){var n=u.tc();u.Ob(4),u.Yc(u.vc(5,12,"Basic")),u.Ob(4),u.Yc(u.vc(9,14,"6 Months")),u.Ob(3),u.Zc("",u.vc(12,16,"Your Store will be activated for 06 months in")," "),u.Ob(3),u.ad("",n.ygen.getcurrencysymbol()," ",n.priceitem.appsix,""),u.Ob(4),u.Yc(u.vc(19,18,"Renew")),u.Ob(4),u.Yc(u.vc(23,20,"Premium")),u.Ob(4),u.Yc(u.vc(27,22,"12 Months")),u.Ob(3),u.Zc("",u.vc(30,24,"Your Store will be activated for 12 months in")," "),u.Ob(3),u.ad("",n.ygen.getcurrencysymbol()," ",n.priceitem.apptwelve,""),u.Ob(4),u.Yc(u.vc(37,26,"Renew"))}}function y(c,t){if(1&c){var e=u.ic();u.hc(0,"div",26),u.hc(1,"div",27),u.hc(2,"input",28),u.pc("ngModelChange",(function(c){return u.Nc(e),u.tc().numberofdays=c})),u.gc(),u.gc(),u.hc(3,"div"),u.hc(4,"button",29),u.pc("click",(function(){return u.Nc(e),u.tc().addDays()})),u.Xc(5),u.uc(6,"translate"),u.gc(),u.gc(),u.gc()}if(2&c){var n=u.tc();u.Ob(2),u.Cc("ngModel",n.numberofdays),u.Ob(3),u.Yc(u.vc(6,2,"Add Grace Days"))}}function f(c,t){if(1&c&&(u.hc(0,"mat-card",3),u.hc(1,"mat-card-header"),u.hc(2,"mat-card-title"),u.Xc(3),u.uc(4,"translate"),u.gc(),u.gc(),u.hc(5,"mat-card-content"),u.hc(6,"div",5),u.hc(7,"div",6),u.Xc(8),u.uc(9,"translate"),u.gc(),u.hc(10,"div",7),u.Xc(11),u.gc(),u.gc(),u.hc(12,"div",5),u.hc(13,"div",6),u.Xc(14),u.uc(15,"translate"),u.gc(),u.hc(16,"div",7),u.Xc(17),u.gc(),u.gc(),u.hc(18,"div",5),u.hc(19,"div",6),u.Xc(20),u.uc(21,"translate"),u.gc(),u.hc(22,"div",7),u.Xc(23),u.gc(),u.gc(),u.gc(),u.gc()),2&c){var e=t.$implicit,n=u.tc();u.Ob(3),u.Yc(u.vc(4,8,"Your Payment History")),u.Ob(5),u.Yc(u.vc(9,10,"Paid on")),u.Ob(3),u.Zc("",n.ygen.formatTimestampToDate(e.paydate)," "),u.Ob(3),u.Yc(u.vc(15,12,"Paid For")),u.Ob(3),u.ad("",n.ygen.getcurrencysymbol()," ",e.amount," "),u.Ob(3),u.Yc(u.vc(21,14,"Paid Reference")),u.Ob(3),u.Zc("",n.ygen.formatTimestampToDate(null==e.paymentResponse?null:e.paymentResponse.payment_id)," ")}}var v,O,w=[{path:"",component:(v=function(){function c(t,e,n,a,i,r,o,u,d,p,g){var b=this;_classCallCheck(this,c),this.events=t,this.http=e,this.ypay=n,this.yauth=a,this.ygen=i,this.alertme=r,this.route=o,this.router=u,this.ysharedata=d,this.ydata=p,this.dialog=g,this.priceitem={},this.subscription={},this.crudList=new s.p(s.Q.getpath()+"/launchapp/renewpayments",p.getDatabase(),!0,this.ygen.getUid()),this.ygen.retrivedsetting.subscribe((function(c){b.priceitem.appsix=s.U.datamap.get("appsix")?s.U.datamap.get("appsix"):60,b.priceitem.apptwelve=s.U.datamap.get("apptwelve")?s.U.datamap.get("apptwelve"):100}))}return _createClass(c,[{key:"ngOnInit",value:function(){this.renewlist=this.crudList.getList(),this.subscription=this.yauth.subscriptionaccount}},{key:"navigate",value:function(c,t){this.ysharedata.setData("currentevent",t),this.router.navigate([c],{queryParams:t})}},{key:"renew",value:function(c){var t=this,e=6==c?this.priceitem.appsix?this.priceitem.appsix:60:this.priceitem.apptwelve?this.priceitem.apptwelve:100,n="business";12==c&&(n="premium");var a=this.ydata.getDatabase().createPushId(),i={sendorderid:a,renewapp:!0,isorder:!1,amount:e,trancurrency:this.ygen.getTranCurrency().toLowerCase()};this.ygen.retrivedsetting.subscribe((function(c){t.ypay.pay(i)})),this.events.subscribe("renew:success["+a+"]",(function(e){t.events.unsubscribe("renew:success["+a+"]");var i=+new Date,r=30*c+7+t.subscription.subscriptiondaysremaining,u=+o(new Date(i)).add(r,"days");t.yauth.subscriptionaccount.subscriptiondate=u,t.yauth.issubscriptionon=!0,t.yauth.subscriptiontype=n,t.subscription=t.yauth.subscriptionaccount,t.ydata.getDatabase().object(s.Q.getpath()+"/launchapp").update({subscriptiondate:u,subscriptiontype:n});var d=t.ydata.getDatabase().createPushId();t.crudList.getListRefer().set(d,e),t.alertme.successdata("You have Successfully Renewed your Subscription with us, Congratulations").then((function(c){console.log("done11",c),t.events.publish("shop:checksubscription")}))}))}},{key:"addDays",value:function(){this.yauth.addDaysToSubscription(this.numberofdays)}}]),c}(),v.\u0275fac=function(c){return new(c||v)(u.bc(s.Z),u.bc(d.b),u.bc(s.L),u.bc(s.N),u.bc(s.U),u.bc(s.a),u.bc(i.a),u.bc(i.j),u.bc(s.S),u.bc(s.R),u.bc(p.b))},v.\u0275cmp=u.Vb({type:v,selectors:[["app-subscription"]],decls:51,vars:32,consts:[[3,"color"],["slot","start"],[1,"ion-padding"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[1,"container"],[1,"item","ylable"],[1,"item","ytext"],[1,"ycricle"],[1,"counter"],[1,"dte"],[4,"ngIf"],["class","pricetable","style","display: flex;",4,"ngIf"],[1,"containerb"],["mat-button","","color","warning","routerLink","/dashboard"],["style","padding: 20px;display: flex; flex-direction: column; align-items: center;",4,"ngIf"],["class","example-card",4,"ngFor","ngForOf"],[1,"pricetable",2,"display","flex"],[1,"md-padding"],[1,"priceclass","basicback"],[1,"myhead","basic"],["layout","row","layout-align","center",1,"md-title"],["mat-button","","color","warning",3,"click"],[1,"priceclass","preimumback"],[1,"myhead","premium"],["mat-button","",3,"click"],[2,"padding","20px","display","flex","flex-direction","column","align-items","center"],[2,"font-size","xxx-large"],["min","1","max","360","type","number","placeholder","Add number of days",3,"ngModel","ngModelChange"],["mat-button","","color","warn",3,"click"]],template:function(c,t){1&c&&(u.hc(0,"ion-toolbar",0),u.hc(1,"ion-buttons",1),u.cc(2,"ion-menu-button"),u.gc(),u.hc(3,"ion-buttons",1),u.cc(4,"ion-back-button"),u.gc(),u.hc(5,"ion-title"),u.Xc(6),u.uc(7,"translate"),u.gc(),u.gc(),u.hc(8,"ion-content",2),u.hc(9,"mat-card",3),u.hc(10,"mat-card-header"),u.cc(11,"div",4),u.hc(12,"mat-card-title"),u.Xc(13),u.uc(14,"translate"),u.gc(),u.gc(),u.hc(15,"mat-card-content"),u.hc(16,"div",5),u.hc(17,"div",6),u.Xc(18),u.uc(19,"translate"),u.gc(),u.hc(20,"div",7),u.Xc(21),u.gc(),u.gc(),u.hc(22,"div",5),u.hc(23,"div",6),u.Xc(24),u.uc(25,"translate"),u.gc(),u.hc(26,"div",7),u.Xc(27),u.gc(),u.gc(),u.hc(28,"div",5),u.hc(29,"div",6),u.Xc(30),u.uc(31,"translate"),u.gc(),u.hc(32,"div",7),u.Xc(33),u.gc(),u.gc(),u.hc(34,"div"),u.hc(35,"div",8),u.hc(36,"div",9),u.Xc(37),u.gc(),u.gc(),u.hc(38,"div",10),u.Xc(39),u.uc(40,"translate"),u.gc(),u.gc(),u.Vc(41,l,4,3,"div",11),u.Vc(42,m,38,28,"div",12),u.gc(),u.hc(43,"mat-card-actions"),u.hc(44,"div",13),u.hc(45,"button",14),u.Xc(46),u.uc(47,"translate"),u.gc(),u.gc(),u.gc(),u.gc(),u.Vc(48,y,7,4,"div",15),u.Vc(49,f,24,16,"mat-card",16),u.uc(50,"async"),u.gc()),2&c&&(u.Cc("color","warning"),u.Ob(6),u.Yc(u.vc(7,16,"Subscription Information")),u.Ob(7),u.Yc(u.vc(14,18,"Your Store Subscription")),u.Ob(5),u.Yc(u.vc(19,20,"Store Launch on")),u.Ob(3),u.Zc("",t.ygen.formatTimestampToDate(t.subscription.lanunchdate)," "),u.Ob(3),u.Yc(u.vc(25,22,"Subscription End Date")),u.Ob(3),u.Zc("",t.ygen.formatTimestampToDate(t.subscription.subscriptiondate)," "),u.Ob(3),u.Yc(u.vc(31,24,"Current Subscription")),u.Ob(3),u.Zc("",t.ygen.getSubscriptionType()," "),u.Ob(4),u.Zc(" ",t.subscription.subscriptiondaysremaining," "),u.Ob(2),u.Yc(u.vc(40,26,"Days to Expiry")),u.Ob(2),u.Cc("ngIf",!t.subscription.issubscriptionon),u.Ob(1),u.Cc("ngIf",t.ygen.isSuperAdmin()||t.subscription.subscriptiondaysremaining<=14),u.Ob(4),u.Yc(u.vc(47,28,"Cancel")),u.Ob(2),u.Cc("ngIf",t.ygen.isSuperAdmin()),u.Ob(1),u.Cc("ngForOf",u.vc(50,30,t.renewlist)))},directives:[r.hb,r.j,r.N,r.f,r.g,r.fb,r.s,g.a,g.f,g.c,g.h,g.d,n.m,g.b,b.a,r.sb,i.l,n.l,g.e,a.s,a.b,a.o,a.r],pipes:[h.c,n.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin:auto}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.containerb[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.item[_ngcontent-%COMP%]{font-size:15px}.ytext[_ngcontent-%COMP%]{font-weight:700}.counter[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:small}.ycricle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;font-size:40px;line-height:200px;text-align:center;background:#000;color:#fff;margin:10px auto}.priceclass[_ngcontent-%COMP%]{width:46%;margin-right:5px;background:rgba(0,0,0,.17)}.md-padding[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.myhead[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;text-align:center;padding:10px}.basic[_ngcontent-%COMP%], .myhead[_ngcontent-%COMP%]{background:rgba(0,255,255,.2)}.premimum[_ngcontent-%COMP%]{background:rgba(255,0,0,.32)}.premimumback[_ngcontent-%COMP%]{background:rgba(16,3,3,.17)}.basicback[_ngcontent-%COMP%]{background:rgba(0,0,2,.11)}.mat-card-footer[_ngcontent-%COMP%]{background:#ffb6c1}.dte[_ngcontent-%COMP%]{position:absolute;left:41%;top:42%;color:#7fffd4}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{opacity:1;font-size:xxx-large}"]}),v)}],x=((O=function c(){_classCallCheck(this,c)}).\u0275mod=u.Zb({type:O}),O.\u0275inj=u.Yb({factory:function(c){return new(c||O)},imports:[[n.c,a.i,r.ib,s.H,s.o,s.b,i.n.forChild(w)]]}),O)}}]);